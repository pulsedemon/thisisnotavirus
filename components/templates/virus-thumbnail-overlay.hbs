<div id="virus-thumbnail-overlay" class="virus-overlay">
  <div class="virus-overlay-header">
    <h2 class="virus-overlay-title">Select Virus</h2>
    <button class="virus-thumbnail-close" aria-label="Close overlay">
      X
    </button>
  </div>
  
  <div class="virus-overlay-content">
    <div class="virus-search-container">
      <input 
        type="text" 
        class="virus-search" 
        placeholder="Search viruses..." 
        aria-label="Search viruses"
        autocomplete="off"
        autocorrect="off"
        autocapitalize="off"
        spellcheck="false"
      />
      <span class="virus-search-icon">üîç</span>
    </div>
    
    <div class="virus-sections">
      <div class="virus-section">
        <div class="virus-section-title-wrapper">
          <h3 class="virus-section-title">Viruses</h3>
        </div>
        <div class="virus-thumbnail-grid {{#if isMobile}}mobile{{/if}}">
          {{#each viruses}}
            <div class="virus-thumbnail-item" data-virus="{{value}}" tabindex="0" role="button" aria-label="Select {{label}} virus">
              <div class="virus-thumbnail-preview">
                <iframe 
                  src="/viruses/{{value}}/" 
                  title="{{label}} preview" 
                  frameborder="0"
                  loading="lazy"
                  importance="low"
                ></iframe>
                <div class="virus-thumbnail-overlay-hover">
                  <span class="play-icon">‚ñ∂</span>
                </div>
              </div>
              <div class="virus-label">{{label}}</div>
            </div>
          {{/each}}
        </div>
      </div>

      {{#if hasCustomViruses}}
      <div class="virus-section custom-viruses">
        <h3 class="virus-section-title">Mixes</h3>
        <div class="virus-thumbnail-grid {{#if isMobile}}mobile{{/if}}">
          {{#each customViruses}}
            <div class="virus-thumbnail-item custom-virus" data-virus="{{value}}" tabindex="0" role="button" aria-label="Select {{label}} custom virus">
              <div class="virus-thumbnail-preview custom-preview">
                <div class="custom-virus-display">
                  <div class="custom-virus-info">
                    <div class="custom-virus-components">
                      <span class="primary-virus">{{mix.primary}}</span>
                      <span class="mix-symbol">‚ö°</span>
                      <span class="secondary-virus">{{mix.secondary}}</span>
                    </div>
                    <div class="mix-ratio">{{mix.mixRatioPercent}}%</div>
                  </div>
                </div>
                <div class="virus-thumbnail-overlay-hover">
                  <span class="play-icon">‚ñ∂</span>
                </div>
              </div>
              <div class="virus-label custom-label">{{label}}</div>
            </div>
          {{/each}}
        </div>
      </div>
      {{/if}}
    </div>
  </div>
</div> 